# K线图绘制工具 - 快速开始

## 运行成功！✅

已成功生成以下K线图示例：
- `浦发银行_2010.png` - 浦发银行2010年K线图
- `平安银行_2009.png` - 平安银行2009年K线图（Yahoo风格）

## 推荐使用：SSH隧道版本

由于ClickHouse只监听localhost，需要使用SSH隧道版本：

### 基础用法

```bash
# 列出可用股票
python3 plot_kline_ssh.py --list

# 绘制K线图并保存
python3 plot_kline_ssh.py --code 600000.SH --start 2010-01-01 --end 2010-12-31 --save 输出.png

# 使用不同风格
python3 plot_kline_ssh.py --code 000001.SZ --start 2009-01-01 --end 2009-12-31 --save 输出.png --style yahoo
```

### 可用风格
- `charles` (默认)
- `yahoo`
- `nightclouds`
- `sas`
- `starsandstripes`

### 其他选项

```bash
# 不使用复权价格
python3 plot_kline_ssh.py --code 600000.SH --start 2010-01-01 --end 2010-12-31 --no-adj --save 输出.png

# 不显示成交量
python3 plot_kline_ssh.py --code 600000.SH --start 2010-01-01 --end 2010-12-31 --no-volume --save 输出.png
```

## 数据说明

根据查询结果，数据库中的数据情况如下：
- 浦发银行(600000.SH): 2000-06-09 至 2010-12-31
- 平安银行(000001.SZ): 有2009年数据
- 总计约5400只A股

**注意**:
- 不同股票的数据时间范围可能不同
- 请根据实际数据范围选择查询日期
- 使用 `--list` 查看可用股票列表

## 中文字体问题

如果图表中的中文显示为方框，这是正常的警告，不影响数据和图表生成。如需完美显示中文，可以：
1. 安装中文字体（如SimHei、Arial Unicode MS）
2. 修改代码中的字体配置

## SSH配置

确保 `~/.ssh/config` 中配置了 `wsl` 主机别名：

```
Host wsl
    HostName 192.168.50.90
    User your_username
```

或直接修改 `plot_kline_ssh.py` 中的 `SSH_HOST` 变量。
